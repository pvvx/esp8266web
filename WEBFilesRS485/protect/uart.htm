<!DOCTYPE html>
<html><head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>ESP8266EX Modbus TCP RTU RS-485</title>
	<link rel="stylesheet" href="../style.css">
	<script src="/scripts.js"></script>
	<script src="/site.js"></script>
</head><body>
~inc:menu.inc~
	<div class="content">
		<h2 class="title">Modbus TCP RTU RS-485</h2>
		<form method="post" action="">
			<table class="form">
			<tr>
				<td class="label">Baud:</td>
				<td><input title='300...3 000 000 bps' name='rs485_baud' maxlength='8' value='~rs485_baud~'></td>
			</tr>
			<tr>
				<td class="label">Parity:</td>
				<td><select name='rs485_parity'>
					<option value='0'>none</option>
					<option value='1'>1 stop (!)</option>
					<option value='2'>even</option>
					<option value='3'>odd</option>
				</select></td>
			</tr>
   			<tr>
				<td class="label">Max Timeout:</td>
				<td><input title='5..65535 ms. Set the timeout value above 3000000/bps.' name='rs485_timeout' maxlength='6' value='~rs485_timeout~'></td>
			</tr>
			<tr>
				<td class="label">AltTp > 19200:</td>
				<td>
					<input type="hidden" name='rs485_spdtw' value='0'>
					<input title='All speed time msg pause 3.5 char' type='checkbox' name='rs485_spdtw' value='1'>
				</td>
			</tr>
   			<tr>
				<td class="label">Add msg pause:</td>
				<td><input title='0..65535 us.' name='rs485_pause' maxlength='6' value='~rs485_pause~'></td>
			</tr>
			<tr>
				<td class="label">Swap TXD<>RTS, RXD<>CTS:</td>
				<td>
					<input type="hidden" name='rs485_swap' value='0'>
					<input title='TXD(GPIO15<->GPIO1), RXD(GPIO13<->GPIO3). When ESP-01 do not set swap!' type='checkbox' name='rs485_swap' value='1'>
				</td>
			</tr>
			<tr>
				<td class="label">Pin RD_ENA:</td>
				<td><select title='When ESP-01 do not set GPIO15!' name='rs485_pinre'>
					<option value='16'>NONE</option>
					<option value='0'>GPIO0</option>
					<option value='1'>GPIO1</option>
					<option value='2'>GPIO2</option>
					<option value='3'>GPIO3</option>
					<option value='4'>GPIO4</option>
					<option value='5'>GPIO5</option>
					<option value='12'>GPIO12</option>
					<option value='13'>GPIO13</option>
					<option value='14'>GPIO14</option>
					<option value='15'>GPIO15</option>
				</select></td>
			</tr>
   			<tr>
				<td class="label">IntDevID:</td>
				<td><input title='Device ID ESP8266 on Modbus: 1..248.' name='cfg_mdb_id' maxlength='4' value='~cfg_mdb_id~'></td>
			</tr>
			<tr>
				<td class="label">IntDevMaster:</td>
				<td>
					<input type="hidden" name='rs485_master' value='0'>
					<input title='Device ESP8266 on bus Modbus RTU RS-485 - Master or Slave.' type='checkbox' name='rs485_master' value='1'>
				</td>
			</tr>
			<tr>
				<td class="label">Modbus TCP Client/Server IP:</td>
				<td><input title='Server: 127.0.0.1, Client: extern ip.' name='cfg_mdb_url' maxlength='63' value='~cfg_mdb_url~'></td>
			</tr>
   			<tr>
				<td class="label">Modbus TCP port:</td>
				<td><input title='4..65535, 0 - close' name='cfg_mdb_port' maxlength='5' value='~cfg_mdb_port~'></td>
			</tr>
			<tr>
				<td class="label">Modbus TCP recved timeout:</td>
				<td><input title='1...65535 sec, 0 - not limited' name='cfg_mdb_twrec' maxlength='5' value='~cfg_mdb_twrec~'></td>
			</tr>
			<tr>
				<td class="label">Modbus TCP close timeout:</td>
				<td><input title='1...65535 sec, 0 - not limited' name='cfg_mdb_twcls' maxlength='5' value='~cfg_mdb_twcls~'></td>
			</tr>
			<tr>
				<td class="label">Modbus TCP connect reopen:</td>
				<td><input type="hidden" name='cfg_mdb_reop' value='0'><input type='checkbox' name='cfg_mdb_reop' value='1'></td>
			</tr>
			</table>
			<p class="center">
				<input type='hidden' name='rs485_save' value='1'>
				<input type='hidden' name='cfg_save' value='1'>
				<input type="submit" value="Set Configuration" class="button">
			</p>
		</form>
	</div>
~inc:footer.inc~
<script type="text/javascript">
var cfg = {
	rs485_parity:"~rs485_parity~",
	rs485_pinre:"~rs485_pinre~",
	rs485_swap:"~rs485_swap~",
	rs485_spdtw:"~rs485_spdtw~",
	rs485_master:"~rs485_master~",
	cfg_mdb_reop:"~cfg_mdb_reop~"
}
setFormValues(document.forms[0], cfg);
</script>
</body>
</html>